<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Settings</title>
    <link rel="stylesheet" href="settings.css">
    <link rel="stylesheet" href="utils/codemirror.css">
    <script src="utils/codemirror.min.js"></script>
    <script src="utils/codemirror-markdown.min.js"></script>
  </head>
  <body>
    <div class="sidebar">
      <div class="sidebar-item active" data-section="general" data-i18n="settings.navigation.general"></div>
      <div class="sidebar-item" data-section="behavior" data-i18n="settings.navigation.behavior"></div>
      <div class="sidebar-item" data-section="templates" data-i18n="settings.navigation.templates"></div>
    </div>
    
    <div class="main-content">
      <div class="section active" id="general">
        <div class="setting-item">
          <div class="setting-header" data-i18n="settings.model.title"></div>
          <div class="setting-description" data-i18n="settings.model.description"></div>
          <select class="setting-input">
            <option value="gpt-4o" data-i18n="settings.model.options.gpt4o"></option>
            <option value="gpt-4o-mini" data-i18n="settings.model.options.gpt4omini"></option>
            <option value="gemini-2-0-flash" selected data-i18n="settings.model.options.geminiFlash20"></option>
            <option value="gemini-2-0-flash-lite" data-i18n="settings.model.options.geminiFlash20Lite"></option>
            <option value="gemini-1-5-pro" data-i18n="settings.model.options.geminiPro"></option>
            <option value="gemini-1-5-flash" data-i18n="settings.model.options.geminiFlash"></option>
            <option value="gemini-1-5-flash-8b" data-i18n="settings.model.options.geminiFlash8b"></option>
            <option value="claude-3-5-sonnet" data-i18n="settings.model.options.claudeSonnet"></option>
            <option value="claude-3-5-opus" data-i18n="settings.model.options.claudeOpus"></option>
            <option value="claude-3-5-haiku" data-i18n="settings.model.options.claudeHaiku"></option>
            <option value="private" data-i18n="settings.model.options.private"></option>
          </select>
        </div>

        <div class="separator"></div>

        <div class="setting-item">
          <div class="setting-header" data-i18n="settings.apiKey.title"></div>
          <div class="setting-description" data-i18n="settings.apiKey.description"></div>
          <div class="input-wrapper">
            <input type="password" class="setting-input" data-i18n-placeholder="settings.apiKey.placeholder">
            <button class="toggle-password" aria-label="Toggle password visibility"></button>
          </div>
        </div>

        <div class="setting-item host-url-setting" style="display: none;">
          <div class="separator"></div>
          <div class="setting-header" data-i18n="settings.hostUrl.title"></div>
          <div class="setting-description" data-i18n="settings.hostUrl.description"></div>
          <input type="text" class="setting-input" data-i18n-placeholder="settings.hostUrl.placeholder">
        </div>
      </div>

      <div class="section" id="behavior">
        <div class="setting-item">
          <div class="setting-header" data-i18n="settings.behavior.hideOnClickOutside.title"></div>
          <div class="setting-description" data-i18n="settings.behavior.hideOnClickOutside.description"></div>
          <select class="setting-input hide-on-click-setting">
            <option value="yes" data-i18n="settings.behavior.hideOnClickOutside.options.yes"></option>
            <option value="no" data-i18n="settings.behavior.hideOnClickOutside.options.no"></option>
          </select>
        </div>

        <div class="setting-item hidden">
          <div class="setting-header" data-i18n="settings.behavior.autoCopy.title"></div>
          <div class="setting-description" data-i18n="settings.behavior.autoCopy.description"></div>
          <select class="setting-input auto-copy-setting">
            <option value="yes" data-i18n="settings.behavior.autoCopy.options.yes"></option>
            <option value="no" data-i18n="settings.behavior.autoCopy.options.no"></option>
          </select>
        </div>

        <div class="setting-item">
          <div class="setting-header" data-i18n="settings.behavior.hotkey.title"></div>
          <div class="setting-description" data-i18n="settings.behavior.hotkey.description"></div>
          <input type="text" class="setting-input hotkey-setting" data-i18n-placeholder="settings.behavior.hotkey.placeholder">
        </div>
      </div>

      <div class="section" id="templates">
        <div class="setting-item">
          <div class="setting-header" data-i18n="settings.templates.edit.title"></div>
          <div class="setting-description" data-i18n="settings.templates.edit.description"></div>
          <div class="template-controls">
            <button class="add-template-btn" aria-label="Add new template">+</button>
            <select class="setting-input template-select">
            </select>
          </div>
        </div>

        <div class="template-separator separator"></div>

        <div class="setting-item">
          <div class="setting-header" data-i18n="settings.templates.shortcut.title"></div>
          <div class="setting-description" data-i18n="settings.templates.shortcut.description"></div>
          <input type="text" class="setting-input template-shortcut-input" data-i18n-placeholder="settings.templates.shortcut.placeholder">
        </div>

        <div class="setting-item">
          <div class="setting-header" data-i18n="settings.templates.name.title"></div>
          <div class="setting-description" data-i18n="settings.templates.name.description"></div>
          <input type="text" class="setting-input template-name-input" data-i18n-placeholder="settings.templates.name.placeholder">
        </div>

        <div class="setting-item">
          <div class="setting-header" data-i18n="settings.templates.hotkey.title"></div>
          <div class="setting-description" data-i18n="settings.templates.hotkey.description"></div>
          <div class="template-hotkey-container">
            <input type="text" class="setting-input template-hotkey-input" data-i18n-placeholder="settings.templates.hotkey.placeholder" readonly>
            <button class="template-hotkey-delete" aria-label="Clear hotkey">Ã—</button>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-header" data-i18n="settings.templates.responseKey.title"></div>
          <div class="setting-description" data-i18n="settings.templates.responseKey.description"></div>
          <input type="text" class="setting-input template-key-input" data-i18n-placeholder="settings.templates.responseKey.placeholder">
        </div>

        <div class="setting-item">
          <div class="setting-header" data-i18n="settings.templates.content.title"></div>
          <div class="setting-description" data-i18n="settings.templates.content.description"></div>
          <div id="template-editor" class="setting-input template-content"></div>
        </div>

        <div class="template-actions">
          <button class="delete-template-btn" data-i18n="settings.templates.actions.delete" style="display: none;"></button>
          <button class="save-template-btn" data-i18n="settings.templates.actions.save"></button>
        </div>
      </div>
    </div>
    <div class="modal-overlay">
      <div class="modal">
        <div class="modal-title" data-i18n="settings.templates.confirmDelete.title"></div>
        <div class="modal-content" data-i18n="settings.templates.confirmDelete.message"></div>
        <div class="modal-actions">
          <button class="modal-btn cancel" data-i18n="settings.templates.actions.cancel"></button>
          <button class="modal-btn confirm" data-i18n="settings.templates.actions.confirm"></button>
        </div>
      </div>
    </div>
    <script src="../node_modules/i18next/dist/umd/i18next.min.js"></script>
    <script src="utils/dialog-utils.js" type="module"></script>
    <script src="settings.js" type="module"></script>
    <script src="settings-templates.js" type="module"></script>
  </body>
</html>
